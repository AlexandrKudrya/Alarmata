# Iteration 3.1: Sleep Cycles Calculator

**Итерация:** 3 (Циклы сна + Аналитика)
**Срок:** 3-4 дня
**Статус:** Не начата

## Цель

Калькулятор циклов сна: помогает определить оптимальное время отбоя или пробуждения на основе 90-минутных циклов.

## Задачи

- [ ] `SleepCycleCalculator` — бизнес-логика:
  - Режим "Когда лечь спать?" (input: время пробуждения)
  - Режим "Если лягу сейчас" (input: текущее время)
  - Формула: `wake_time - (n * 90min) - fall_asleep_time`
  - Вывод: 3-4 варианта (6, 5, 4, 3 цикла)
- [ ] Настройка времени засыпания (default: 15 мин)
- [ ] `SleepCyclesScreen` — UI:
  - TimePicker для ввода
  - Переключатель режимов
  - Карточки с вариантами: время + количество часов сна + рекомендация
  - Визуализация timeline с фазами сна
- [ ] Кнопка "Создать будильник" из результата калькулятора
- [ ] Быстрый доступ с главного экрана (карточка/кнопка)
- [ ] Добавить в навигацию (Bottom Nav или отдельная кнопка)

## Логика расчёта

Цикл сна = 90 минут. Рекомендуется 4-6 полных циклов.

**"Когда лечь?"** при пробуждении в 7:00 (засыпание 15 мин):
- 6 циклов: 21:45 (9ч сна) — рекомендуется
- 5 циклов: 23:15 (7.5ч) — хорошо
- 4 цикла: 00:45 (6ч) — минимум
- 3 цикла: 02:15 (4.5ч) — мало

## Критерии завершения

- Калькулятор рассчитывает корректные времена
- UI понятный и визуально приятный
- Можно создать будильник из калькулятора (deeplink в AddEditAlarm)
- Настройка времени засыпания работает

## Зависимости

- MVP 1.2 (создание будильников для deeplink)
